<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Музей TEA</title>
</head>
<body>

<h3>Музей TEA</h3>


<p><a href="dloads/typewriter_setup.exe">Typewriter 2.2 beta</a> - редактор, разрабатываемый мною в 2000-2001 годах, предшественник первой версии TEA под Windows, а точнее, переименованный осенью 2001 в TEA. Редактор жил на сайте typewriter.narod.ru. Написан был в среде разработки, которая тогда мне, да и многим другим, нравилась больше всего - Delphi.
</p>

<p>В Typerwriter, помимо функций обработки текста, был встроен звуковой "синхронизатор мозговых волн" - штука, которая на меня никогда впрочем не действовала. Редактор поддерживает три русские кодировки - Cp1251, DOS 866 и KOI8-R. Подсветки синтаксиса нет, зато есть палитры оформления. Калькулятор, обычный календарь, лунный календарь, некоторые утилиты для Фидонета. Меню "Функции", знакомое пользователям всех версий TEA, существовало еще со времен Typewriter, причем сохранило свою структуру, хотя и разрослось.
</p>

<p>Интерфейс Typewriter - еще не "табовый", а MDI, когда окна документов плавают внутри общего окна. В качестве браузеров для запуска HTML-документов на просмотр предлагались жестко вбитые IE, Opera да Netscape.</p>

<p>Средства веб-разработки включали в себя окошко Web Assistant со списком тэгов для быстрого их ввода, выбор цвета из палитры, и вставка картинки. Всё это позже раскидалось по разным пунктам меню TEA.</p>

<p>Руководство к программе - в формате HLP, там нахожу задумки на будущее, например что начал работу над УНИТАЗом, Универсальным Текстовым Анализатором. В качестве текстового движка в Typewriter 2.2 использовался MemoEx Алексея Колесниченко.
 </p>

<p>В документации того времени я вспоминаю историю создания редактора так:</p>

<p style="text-align:justify;">***</p>

<p style="width:75%;">Идея написать свой редактор возникла по одной магической причине. Я начал писать рассказ "Детские рисунки выбрасывать запрещается!", и пока я писал его, Word 2000 вылетел с ошибкой где-то в kernel'е. Да, я сохранил написанный фрагмент - успел. Правда, две строки все же пропали. Я начал вновь писать, и снова Ворд вылетел. И опять, и опять. Ни на одном файле он не глючил, только на "Детских рисунках!". Тогда я скопировал текст в Clipboard, и продолжил писать в обычном текстовом редакторе BRED'е, где благополучно и завершил рассказ. </p>

<p style="width:75%;>   Как водится, нужно ведь отформатировать и спэллчекером проверить! Потащил я текст в Ворд, и... Ага, Ворд снова вылетел. Я проделал еще пару попыток, но майкрософтовский монстр упорно вывалился на моем загадочном рассказе. Повторю, что с другими файлами - все ОК. Это мне порядком надоело, и я решил на всякий случай переинсталлировать Офис 2000. Сказано - сделано. Но не помогло. В качестве панацеи я поставил Star Office, но он не делал того, что требовалось мне, и я его снес. А затем начал думать, в чем мне довести до кондиции злополучный рассказ. BRED меня на вдумчивую вычитку не вдохновлял, равно как Ultra Edit и Wordpad. Я запустил имеющийся у меня Baikal Wordpad. Этот редактор написан на Delphi, и я даже знаю, почему в имеющейся у меня версии нельзя переключать язык - там в компоненте RXRichEdit у свойства Language опция lgAutoFont установлена в False, а нужно в True - и тогда все будет ОК. Пользователь этого сделать не сможет - пишите автору Baikal'а, кому нужно - а автор пусть исправит и перекомпилирует.</p>

<p style="width:75%;>   И когда я увидел, как выглядит текст в этом Baikal, я снова не вдохновился, и озарение посетило меня - надо писать свой собственный редактор. Нет, я не буду делать его с нуля - я не программист-маньяк, я литератор и философ. Незачем изобретать велосипед. Windows предоставляет отличный движок текстового редактора Richedit, и каждый, кому не лень, его использует в той или иной степени успешно. Я не исключение, я тоже взял его, и начал навешивать всякие прибамбасы, ощущая потребность сделать... Ээээ... Бээээ... Мээээ... Короче, в итоге вышел довольно милый редактор. Я уже создал его дистрибутив с инсталлятором, но засыпая ранним утром в глубоких раздумьях, ясно осознал, что очередной Rich-text редактор никому нафиг не нужен! </p>

<p style="width:75%;>   На следующий день Delphi заглючила, не буду описывать, как именно. Я ее дважды переустанавливал - удалял из Реестра все записи, относящиеся к ней, выкидывал все ее брошенные в системную папку библиотеки, и снова устанавливал - пофиг. При попытке откомпилировать проект она настойчиво сообщала о некой внутренней ошибке. Короче, снес я Delphi нафиг. Прошел месяц, меня снова начало мурыжить - а ну как Delphi поставлю, а ну как Delphi поставлю... Поставил. Вначале опять заглючила, потом вдруг перестала. Начал ставить компоненты. Это дело очень нудное. Вернулся к Typewriter'у, выкинул рич-текстовый движок, а заодно кучу функций. Затем поставил в качестве "движка" компонент TColorMemo от Baltic Solutions (www.balticsolutions.com), который поддерживает раскраску синтаксиса. Потом выяснилось, что больше 64 килобайтов текста он не читает. Мааааать! Поставил LMDMemo - тоже хорошая штука, но без раскраски синтаксиса. Зато там имеется полезный метод - Insert(position, text). До этого я делал вставку текста через жопу - посылал в элемент управления строку, транслируя ее символы в виртуальные коды клавиш. В версии 2.2 "движок" заменен на MemoEX Алексея Колесниченко.</p> 

<p style="width:75%;>   При написании программы я постоянно слушал музыку, поэтому посвятил Typewriter Curt'у Cobain'у и Джиму Моррисону. А вот этот текст пишется под наркотические вопли Дайаманды Галас - думаю, что даже Макс Кавалера не может вот так дико орать. Но она ведь к тому же еще и поет! The Litanies of Satan '89 - очень рекомендую, если хотите, чтобы у вас поехала крыша.</p>  

<p style="text-align:justify;">***</p>

<p>Но кроме этого, я помню иное - что работу над исходником начал 4 октября 2000 года. Ко мне в гости пришла подруга Нина, я пошел ее провожать, и пока шел, в голове сложился этот - как его назвать? зародыш программы, так всегда бывает, вне зависимости от меня, просто возникает образ, понимание и задача - это надо делать. Я вернулся домой, создал в Delphi новый проект, поставил в начале главного файла REMain.pas дату - 4 октября 2000 года. Это и было рождение TEA, хотя вначале редактор именовался Typewriter.
</p>

<p>Осенью 2001 года, в сентябре, с новым выпуском редактора я переименовал Typewriter в более короткое TEA. Название Typewriter перестало мне нравиться, кроме того, я чувствовал, что с развитием редактора старое имя отжило, более не подходило к новой ипостаси программы.</p>

<p><a href="dloads/teasetup.exe">TEA 11.0.0.607 (Split)</a> - тот самый легендарный вындовый TEA начала века, новая ипостась Typewriter. Разрабатывался по 2003 год включительно, когда я объявил версию TEA 11.0.0.607 последней для Windows, ибо основной моей системой стал Linux и я начал там писать с нуля TEA на языке Си с использованием тулкита GTK+2.</p>

<p>Приведу выдержку из документации 2003 года (TEA всегда был документирован более, чем требовалось), где я рассказываю об истории создания редактора:</p>

<p>---</p>

<p style="width:75%;>Зачем была сделана эта штука?</p>


<p style="width:75%;>В исходнике TEA, в самом начале первого юнита, есть строка: //created at 4 oct 2000 by Roxton. Я помню, что начал писать редактор вечером, аккурат после того, как проводил подругу, которая взяла у меня почитать книжку Стивена Кинга и до сих пор не вернула. Довольно мерзкий поступок.</p> 

<p style="width:75%;> Тогда я почти не разбирался в программировании, но мне нужен был хороший текстовый редактор. Но прежде чем начинать, я несколько дней раздумывал. Если уж делать, то на совесть, чтобы получилось не хуже, чем у других. И я принялся за дело. Вам покажется диким, но изначально TEA была сделан на основе того демо-RTF редактора, что идет в комплекте с Delphi. Я просто взял эту демку и принялся добавлять в нее новые функции. Разумеется, сейчас от демо не осталось ничего, кроме пары строк кода :) </p>

<p style="width:75%;> Сначала редактор назывался Typewriter. Через месяц после начала разработки я выложил его дистрибутив (даже с инсталлятором) на своем сайте, но его скачивали единицы. Я совсем не помню, как выглядел тогда Typewriter. Это был многооконный редактор (но без табов), с поддержкой популярных кодировок, звуковым синхронизатором мозговых волн, и некоторыми другими штуками, которых сейчас в TEA нет - например, было окно WebAssistant с разными тулзами для веб-дизайна.</p> 

<p style="width:75%;> К маю 2001 была уже версия 3.0 (Typewriter'а). Я по-прежнему его не раскручивал, просто выкладывал свежие версии на сайт, и по моим прикидкам, скачало редактор человек десять или чуть больше. Хотя уже тогда это был довольно мощный продукт с уникальными возможностями. Сырой, но уникальный. Я не программист, я просто делаю то, что мне нужно. Когда мне нужна, допустим, сортировка строк, я добавляю ее в TEA. Так и развивается редактор. </p>

 <p style="width:75%;>В Typewriter 3.0 были: CodeInsight, закладки своего формата, простой файловый менеджер (еще не Нептуно), цветовые стили, уйма разных функций обработки текста - короче говоря, это был уже прототип современного TEA. Но Typewriter 3 так и не был зарелижен. В сентябре 2001 я переименовал проект в TEA, потому что решил раскручивать его, и нужно было короткое, звучное имя. </p>

 <p style="width:75%;>TEA 1.0 был зарегистрирован на нескольких софтварных сайтах, и я обнаружил, что редактор завоевывает популярность. Развитие программы пошло быстрее - юзеры слали рапорты об ошибках, да и заинтересованность у меня появилась. Потом TEA стал попадать на CD к журналам, таким как CHIP (украинский и российский), "Хакер" и так далее. Сейчас, по моим оценкам, только постоянных пользователей TEA около 40 тысяч. </p>

 <p style="width:75%;>Это хорошо, но ситуация усугубляется тем, что в Сети висят СТАРЫЕ версии TEA, даже 1.0. Я не понимаю мотивов тех людей, которые копируют TEA на свой сайт и делают ссылку. Ведь у меня на сайте (и зеркале) всегда есть самые свежие версии. И адреса их не меняются. Намного проще делать ссылки на те дистрибутивы, что размещены у меня. 
</p>

<p style="width:75%;> Но вернусь к истории. Хотя, вы можете задолбаться это всё читать. Не нравится - закройте окно браузера. А я сейчас настроен на словоизлияние. Словоизлияние в мозг. Продолжу об истории TEA. Весной 2002 года к разработке подключился Lemon, который делал дизайн сайта, документации и рисовал кнопки. А также создал справочник по HTML и внес некоторые идеи в концепцию программы. Вклад Lemon'а был велик. Затем, из-за непреодолимых разногласий в плане дизайна, я снова взял проект целиком в свои руки. Ибо мне нравится простая, читабельная документация. Простой, читабельный сайт. Я простой человек. (используйте это как цитату) </p>

 <p style="width:75%;>Когда я переделал сайт и доку под свой вкус, мне стало намного легче. Я снова всё контролировал. Несколько раз мне хотелось бросить разработку, но потом я добавлял для себя несколько новых фишек, и волей-неволей приходилось выкладывать новую версию - не пылиться же добру. В конце лета 2003 года TEA стал, кроме plain-text редактора, также полноценным RTF и HEX редактором.</p> 

<p style="width:75%;>[...]</p>


<p style="width:75%;> Буду закругляться. Основые мысли, которым следовал в разработке TEA, таковы: </p>

<p style="width:75%;>1. Никакой лажи вроде OCX-компонентов, швыряния кучи dll'ок в системные папки, самовольного переиначивания файловых ассоциаций и других прелестей. Чем меньше программа компостирует системе мозги, тем лучше для обеих. </p>

<p style="width:75%;>2. Функциональность. Все лишнее быстро выкидывается нафиг. Лишнее - то, в чем нет надобности. Так были выкинуты вьювер ANSI-графики, MIME-клиент и еще много разной фигни. Несмотря на это, редактор жрет много ресурсов - я имею в виду не память, а всякие там ресурсы ядра, GDI и прочей фигни. Касательно памяти - TEA, наоборот, экономен, как скопец на кондомы. </p>

<p style="width:75%;>3. Нормальная документация. То бишь, где написано понятно и четко, и не нудно. Писать документацию занятие само по себе напрягающее. Выпуск новых версий TEA часто тормозится именно потому, что лень дополнять вот эту документацию. Это ж надо сесть, уделить время, рассказать понятным языком, как и что использовать. В любом случае, старался описывать самые важные вещи. </p>

<p style="width:75%;>[...]</p>

<p style="width:75%;>5. Чего никогда не будет в TEA: автостарт (эт те не плейер), вот эти вот встроенные калькуляторы, плейеры и прочее из серии "все в одном". Редактор должен быть функционален и освобожден от всего лишнего. Это редактор, ничего больше. Не надо превращать Tea в отхожее место.</p>

<p style="width:75%;>Ради прикола - вот что БЫЛО в старых версиях TEA: "кнопочный" калькулятор, плейер трекерных модулей и лунный календарь (который графически показывал фазу Луны, убран из-за долгих вычислений при своей инициализации)...</p>

<p style="width:75%;>---</p>


<p>Вот. Работа над TEA в 2001-2003 годах, пожалуй, самое славное времечко. Я открывал для себя новые области программирования, постоянно пробовал разные библиотеки и компоненты к Delphi. Сейчас для C++ я редко-редко смотрю какую-то библиотеку, только по нужде, когда всё заранее обдумано. Нет такого, чтобы взял и пробуешь функции на вкус. А то хавал одну за другой.</p>

<p>TEA 11 был похож на современный TEA-QT, точнее, ТОТ одиннадцатый TEA задал образ и подобие всем последующим TEA. Это область логмемо, встроенный файловый приказчик, "резиновый" интерфейс с изменяемыми размерами элементов управления.
</p>

<p>В TEA 11 было пожалуй столько же функций, чем в TEA-QT образца 2016 года. Шаблоны, сниппеты, закладки, палитры оформления - это всё оттуда, из старого TEA. Чем еще он мог похвастаться? Встроенный веб-браузер Retro, файловый приказчик Нептуно, озвучка клавиш - сэмплы пишмашинки либо настоящий синтезатор (у каждой клавиши - свой тон).
</p>

<p>Но интерес мой к развитию вындового TEA угасал. Во-первых, сам я стал "жить" больше в Линуксе. Во-вторых, я сделал в TEA всё, что мне было нужно от редактора, и даже сверх того. Архитектурой я был доволен и редактор мог бы развиваться дальше на основе существующего кода. В последних версиях по TEA 11 я ввел в действие движок "виртуального редактора", который позволял мне пристегивать к основному коду любой движок редактирования. И когда TEA открывал текстовые и  RTF-файлы, запускались разные движки. Другой движок запускался и при открытии файла в HEX-режиме.
</p>


<p>TEA Win32 (<a href="dloads/tea_w32_setup.exe">установщик</a>, <a href="dloads/tea-w32-source.zip">исходник</a>)</p>

<p>Новая ипостась вындового TEA, выкладываемая при жизни (2006-2007 годы) в общественное достояние. От кода старого TEA в этом не осталось, кажется, ничего, а основан он был на Scintilla, JVCL, 
JCL и некоторых других библиотеках. В то время я уже вовсю разрабатывал линуксовый TEA, на Си, под GTK+2, и некоторые идеи оттуда перетаскивал в этот вындовый. Насколько я помню, до использования Scintilla в качестве движка редактирования, были какие-то ранние версии TEA Win32 с движком из JVCL. Остановка разработки TEA Win32 была вызвана началом разработки многоплатформенного TEA Qt.
</p>

</body>
</html>

